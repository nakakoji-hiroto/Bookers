<div class="success">
  <%= flash[:notice] %>
</div>

<h1>Books</h1>

<div class="Books_index">

  <table>
    <tr>
      <th>Title</th>
      <th>Body</th>
    </tr>
    
    <% @book_all.each do |book| %>
    <tr>
      <td class="title_col"><%= book.title %></td>
      <td class="body_col"><%= book.body %></td>
      <td class="link_col">
        <%= link_to 'show', book_path(book.id) %>
        <%= link_to 'Edit', edit_book_path(book.id) %>
        <%= link_to 'Destroy', book_path(book.id), method: :delete, "data-confirm" => "Are you sure?" %>
      </td>
    </tr>
    <% end %>
    
  </table>

</div>


<section class="Books_new">
  
  <h2>New book</h2>
  
  <% if @book.errors.any? %>
  
  <section class="error_block">
    
    <h4 class="error_title">
    <%= @book.errors.count %> errors prohibited this book from being saved:
    </h4>
    
    <ul class="error_message">
      
      <% @book.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      
    </ul>
    
  </section>
  
  <% end %>
  
  <%= form_with model: @book, class: "create_form" do |f| %>
    <div class="title">
      <label for="title_field">Title</label>
      <%= f.text_field :title, class: "title_field" %>
    </div>
    
    <div class="body">
      <label for="body_field">Body</label>
      <%= f.text_area :body, class: "body_field" %>
    </div>
    
    <div class="submit">
      <%= f.submit 'Create Book', class: "create_book" %>
    </div>
  <% end %>
  
</section>
